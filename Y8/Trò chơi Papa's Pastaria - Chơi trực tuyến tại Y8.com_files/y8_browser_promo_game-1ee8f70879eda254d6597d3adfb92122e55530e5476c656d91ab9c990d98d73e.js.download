"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),BrowserPromoGame=function(){function BrowserPromoGame(){_classCallCheck(this,BrowserPromoGame)}return _createClass(BrowserPromoGame,[{key:"init",value:function(){var _this=this;this.$promoBlock=document.querySelector(".y8-browser-promo-game"),this.$gameBlock=document.querySelector("#item-container"),this.$promoBlock&&(this.isY8Browser=-1!==navigator.userAgent.indexOf("y8"),this.isFlashEnabled()||this.isY8Browser?this.hide():this.show(),this.manageDirectDownload(),this.$promoBlock.querySelector(".close-btn").addEventListener("click",function(){_this.hide()}))}},{key:"show",value:function(){this.$gameBlock.style.display="none",this.$promoBlock.classList.add("show")}},{key:"hide",value:function(){this.$gameBlock.style.display="block",this.$promoBlock.classList.remove("show")}},{key:"manageDirectDownload",value:function(){var appVersion=window.navigator.appVersion;this.$downloadLink=this.$promoBlock.querySelector(".download-link"),/.*(Mac).*/i.test(appVersion)?this.$downloadLink.href=this.$downloadLink.dataset.macosUrl:/.*(Win).*/i.test(appVersion)&&(this.$downloadLink.href=this.$downloadLink.dataset.windowsUrl)}},{key:"isFlashEnabled",value:function(){var flashEnabled=!1;if("undefined"!=typeof navigator.plugins&&"object"==typeof navigator.plugins["Shockwave Flash"])flashEnabled=!0;else if("undefined"!=typeof window.ActiveXObject)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(flashEnabled=!0)}catch(e){console.log(e)}return flashEnabled}}]),BrowserPromoGame}();$(document).ready(function(){(new BrowserPromoGame).init()});